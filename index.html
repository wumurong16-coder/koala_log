<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>考拉小狗日记 - Koala Dog Log</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@300;400;700&family=Indie+Flower&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- 顶部标题 -->
    <header class="site-header">
        <div class="header-container">
            <div class="header-brand">
                <i class="fas fa-paw"></i>
                <h1>考拉小狗日记</h1>
            </div>
        </div>
    </header>

    <!-- 主内容区 - 网格布局 -->
    <main class="main-content-grid">
        <!-- 第一行：健康日志（左） -->
        <section id="health-log" class="module-card">
            <div class="module-header">
                <h2><i class="fas fa-bone"></i> 健康日志</h2>
            </div>
            
            <div class="module-content">
            <div class="tabs">
                <button class="tab-btn active" data-tab="diet">饮食记录</button>
                <button class="tab-btn" data-tab="poop">便便健康</button>
                <button class="tab-btn" data-tab="walk">遛狗记录</button>
                <button class="tab-btn" data-tab="other">其他</button>
            </div>

            <!-- 饮食记录 -->
            <div class="tab-content active" id="diet-tab">
                <div class="form-container">
                    <h3>添加饮食记录</h3>
                    <form id="diet-form">
                        <div class="form-group">
                            <label>食物类型</label>
                            <input type="text" id="food-type" placeholder="例如：狗粮、零食、水果" required>
                        </div>
                        <div class="form-group">
                            <label>分量（克）</label>
                            <input type="number" id="food-amount" placeholder="例如：150" required>
                        </div>
                        <div class="form-group">
                            <label>喂食时间</label>
                            <input type="datetime-local" id="feeding-time" required>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> 保存记录
                        </button>
                    </form>
                </div>
                <div class="records-list" id="diet-records"></div>
            </div>

            <!-- 便便健康 -->
            <div class="tab-content" id="poop-tab">
                <div class="form-container">
                    <h3>记录便便健康</h3>
                    <form id="poop-form">
                        <div class="form-group">
                            <label>排便时间</label>
                            <input type="datetime-local" id="poop-time" required>
                        </div>
                        <div class="form-group">
                            <label>形态评分（1-5级）</label>
                            <div class="rating-input">
                                <input type="range" id="poop-score" min="1" max="5" value="3">
                                <div class="rating-display">
                                    <span id="score-value">3</span>
                                    <div class="score-indicator" id="score-indicator"></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>颜色</label>
                            <input type="color" id="poop-color" value="#8B4513">
                        </div>
                        <div class="form-group">
                            <label>备注</label>
                            <textarea id="poop-notes" rows="3" placeholder="其他观察..."></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> 保存记录
                        </button>
                    </form>
                </div>
                <div class="records-list" id="poop-records"></div>
            </div>

            <!-- 遛狗记录 -->
            <div class="tab-content" id="walk-tab">
                <div class="form-container">
                    <h3>添加遛狗记录</h3>
                    <form id="walk-form">
                        <div class="form-group">
                            <label>开始时间</label>
                            <input type="datetime-local" id="walk-start" required>
                        </div>
                        <div class="form-group">
                            <label>结束时间</label>
                            <input type="datetime-local" id="walk-end" required>
                        </div>
                        <div class="form-group">
                            <label>距离（公里）</label>
                            <input type="number" id="walk-distance" step="0.1" placeholder="例如：2.5" required>
                        </div>
                        <div class="form-group">
                            <label>路线</label>
                            <input type="text" id="walk-route" placeholder="例如：小区公园" required>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> 保存记录
                        </button>
                    </form>
                </div>
                <div class="chart-container">
                    <h3>周度运动趋势</h3>
                    <canvas id="walk-chart"></canvas>
                </div>
                <div class="records-list" id="walk-records"></div>
            </div>

            <!-- 其他记录 -->
            <div class="tab-content" id="other-tab">
                <div class="form-container">
                    <h3>添加其他记录</h3>
                    <form id="other-form">
                        <div class="form-group">
                            <label>记录类型</label>
                            <select id="other-type" required>
                                <option value="">请选择</option>
                                <option value="bath">洗澡</option>
                                <option value="deworm">驱虫</option>
                                <option value="vaccine">疫苗</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>时间</label>
                            <input type="datetime-local" id="other-time" required>
                        </div>
                        <div class="form-group">
                            <label>备注</label>
                            <textarea id="other-notes" rows="3" placeholder="例如：使用了什么产品、疫苗名称等"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> 保存记录
                        </button>
                    </form>
                </div>
                <div class="records-list" id="other-records"></div>
            </div>
            </div>
        </section>

        <!-- 第一行：成长相册（右） -->
        <section id="growth-album" class="module-card">
            <div class="module-header">
                <h2><i class="fas fa-paw"></i> 成长相册</h2>
            </div>
            
            <div class="module-content">
            <div class="album-controls">
                <button class="btn btn-primary" id="upload-photo-btn">
                    <i class="fas fa-upload"></i> 上传照片
                </button>
                <input type="file" id="photo-upload" accept="image/*" multiple style="display: none;">
                <div class="filter-tabs">
                    <button class="filter-btn active" data-filter="all">全部</button>
                    <button class="filter-btn" data-filter="month">按月查看</button>
                </div>
            </div>

            <div class="album-timeline" id="album-timeline">
                <!-- 照片将通过JS动态加载 -->
            </div>
            </div>
        </section>

        <!-- 第二行：智能体助手（左） -->
        <section id="ai-assistant" class="module-card">
            <div class="module-header">
                <h2><i class="fas fa-dog"></i> 考拉专属小助手</h2>
            </div>
            
            <div class="module-content">
            <div class="assistant-container">
                <div class="chat-interface">
                    <div class="chat-messages" id="chat-messages">
                        <div class="message bot-message">
                            <div class="message-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="message-content">
                                你好！我是考拉的智能助手，可以为你提供健康咨询、训狗技巧和预警提醒。有什么问题吗？
                            </div>
                        </div>
                    </div>
                    <div class="chat-input-container">
                        <input type="text" id="chat-input" placeholder="输入你的问题...">
                        <button class="btn btn-primary" id="send-message-btn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
                
                <div class="assistant-sidebar">
                    <div class="sidebar-section">
                        <h3><i class="fas fa-graduation-cap"></i> 推荐训练</h3>
                        <div id="training-tips"></div>
                    </div>
                </div>
            </div>
            </div>
        </section>

        <!-- 第二行：社交网络（右） -->
        <section id="social-network" class="module-card">
            <div class="module-header">
                <h2><i class="fas fa-heart"></i> 社交网络</h2>
            </div>
            
            <div class="module-content">
            <div class="social-tabs">
                <button class="tab-btn active" data-tab="relationship">关系图谱</button>
                <button class="tab-btn" data-tab="interaction">互动记录</button>
            </div>

            <!-- 关系图谱 -->
            <div class="tab-content active" id="relationship-tab">
                <div class="relationship-container">
                    <button class="btn btn-primary" id="add-contact-btn">
                        <i class="fas fa-user-plus"></i> 添加联系人
                    </button>
                    <div class="relationship-graph" id="relationship-graph">
                        <!-- 关系图将通过JS动态生成 -->
                    </div>
                </div>
            </div>

            <!-- 互动记录 -->
            <div class="tab-content" id="interaction-tab">
                <div class="form-container">
                    <h3>记录社交活动</h3>
                    <form id="interaction-form">
                        <div class="form-group">
                            <label>活动类型</label>
                            <select id="interaction-type">
                                <option value="play">玩耍</option>
                                <option value="walk">一起遛狗</option>
                                <option value="visit">拜访</option>
                                <option value="other">其他</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>参与者</label>
                            <input type="text" id="interaction-participants" placeholder="例如：和柴犬Max玩耍">
                        </div>
                        <div class="form-group">
                            <label>活动时间</label>
                            <input type="datetime-local" id="interaction-time" required>
                        </div>
                        <div class="form-group">
                            <label>备注</label>
                            <textarea id="interaction-notes" rows="3"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> 保存记录
                        </button>
                    </form>
                </div>
                <div class="records-list" id="interaction-records"></div>
            </div>
            </div>

        </section>
    </main>

    <!-- 模态框 -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <div id="modal-body"></div>
        </div>
    </div>

    <!-- 脚本 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/modules/health-log.js"></script>
    <script src="js/modules/growth-album.js"></script>
    <script src="js/modules/ai-assistant.js"></script>
    <script src="js/modules/social-network.js"></script>
    <script src="js/app.js"></script>
</body>
</html>